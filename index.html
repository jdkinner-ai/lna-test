<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Edge 141 - LNA Test Page</title>
    <style>
      body { font-family: sans-serif; margin: 2em; }
      #result { margin-top: 1em; padding: 1em; border-radius: 4px; }
      .success { background: #e6ffe6; color: #1a7f37; }
      .error { background: #ffe6e6; color: #b91c1c; }
    </style>
  </head>
  <body>
    <h2>Testing Local Network Access (Edge 141)</h2>
    <p>This page attempts to fetch from <code>http://127.0.0.1:8080</code>.<br>
       Click the button below to test. Feedback will appear here.</p>
    <button onclick="testLNA()">Test LNA Fetch</button>
    <div id="result"></div>
    <script>
      function testLNA() {
        const resultEl = document.getElementById('result');
        resultEl.textContent = "Requesting...";
        resultEl.className = "";
        fetch("http://127.0.0.1:8080")
          .then(r => {
            if (!r.ok) throw new Error(`HTTP error! status: ${r.status}`);
            return r.text();
          })
          .then(t => {
            resultEl.textContent = "Success! Local Network Access fetch succeeded.\nResponse: " + t;
            resultEl.className = "success";
          })
          .catch(e => {
            resultEl.textContent = "Error: Local Network Access fetch failed.\n" + e;
            resultEl.className = "error";
          });
      }
    </script>
  </body>
</html>
